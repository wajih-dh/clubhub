<div *ngIf="username; else loading" class="update-user-container">
  <div class="update-user-box">
    <h2 class="text-center mb-4">Update User</h2>

    <form class="update-user-form" (ngSubmit)="onSubmit()">
      <!-- Username -->
      <div class="mb-3">
        <label for="username" class="form-label">Username</label>
        <div class="input-group">
          <span class="input-group-text"><i class="bi bi-person"></i></span>
          <input
            type="text"
            class="form-control"
            id="username"
            [(ngModel)]="username"
            name="username"
            placeholder="Enter username"
            required
          />
        </div>
      </div>
  
      <!-- Email -->
      <div class="mb-3">
        <label for="email" class="form-label">Email address</label>
        <div class="input-group">
          <span class="input-group-text"><i class="bi bi-envelope"></i></span>
          <input
            type="email"
            class="form-control"
            id="email"
            [(ngModel)]="email"
            name="email"
            placeholder="Enter email"
            required
          />
        </div>
      </div>
  
      <!-- Role Dropdown -->
      <div class="mb-3">
        <label for="role" class="form-label">Role</label>
        <div class="input-group">
          <span class="input-group-text"><i class="bi bi-shield"></i></span>
          <select
            class="form-select"
            id="role"
            [(ngModel)]="role"
            name="role"
            required
          >
            <option *ngFor="let r of roles" [value]="r">{{ r }}</option>
          </select>
        </div>
      </div>
  
      <!-- Submit Button -->
      <button type="submit" class="btn btn-primary w-100">
        <i class="bi bi-save me-2"></i>Update User
      </button>
      
      <!-- Back Link -->
      <div class="mt-3 text-center">
        <a href="/admin" class="text-decoration-none">
          <i class="bi bi-arrow-left me-1"></i>Back to User List
        </a>
      </div>
    </form>
  </div>
</div>

<!-- Loading State -->
<ng-template #loading>
  <div class="d-flex justify-content-center align-items-center min-vh-100">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>
</ng-template>